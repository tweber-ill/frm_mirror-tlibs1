thread_func(a)
{
	i = 0;
	while(i less 25)
	{
		begin_critical();
			print("In " + a +  ": " + i);
		end_critical();

		i = i+1;
	}
}

main()
{
	th1 = thread("thread_func", "thread 1");
	th2 = thread("thread_func", "thread 2");

	print("In main thread");
	join(th1, th2);
}
